/**
 * Chatooly CDN v2.0.0 - Style injection module only
 * Built: 2025-08-13T10:15:12.661Z
 * Original size: 10.3KB
 */
(function(){'use strict';window.Chatooly = window.Chatooly ||{};Chatooly.styleInjection ={cdnBase:'https://yaelren.github.io/chatooly-cdn',version:'2.0.0',isDevelopment:function(){return location.hostname === 'localhost' || location.hostname === '127.0.0.1' || location.protocol === 'file:' || location.search.includes('dev=true')},getCDNUrl:function(path){if(this.isDevelopment()){const baseUrl = window.location.origin + window.location.pathname;const cdnPath = baseUrl.includes('chatooly-cdn')? baseUrl.substring(0,baseUrl.indexOf('chatooly-cdn')+ 'chatooly-cdn'.length):baseUrl.replace(/\/[^\/]*$/,'');return cdnPath + path}return this.cdnBase + path},inject:function(options){options = options ||{};if(document.getElementById('chatooly-unified-styles')){console.log('Chatooly:Styles already loaded');return Promise.resolve()}console.log('Chatooly:Injecting CDN v2.0.0 design system...');return new Promise((resolve,reject)=>{const link = document.createElement('link');link.id = 'chatooly-unified-styles';link.rel = 'stylesheet';link.href = this.getCDNUrl('/css/unified.min.css');link.onload =()=>{console.log('Chatooly:Design system loaded successfully ✅');this.onStylesLoaded(options);resolve()};link.onerror =()=>{console.warn('Chatooly:Failed to load design system,continuing without ⚠️');this.onStylesLoaded(options);resolve()};const firstStyle = document.querySelector('link[rel="stylesheet"],style');if(firstStyle && firstStyle.parentNode){firstStyle.parentNode.insertBefore(link,firstStyle)}else{document.head.appendChild(link)}setTimeout(()=>{if(!document.getElementById('chatooly-unified-styles')){console.warn('Chatooly:Style loading timed out');this.onStylesLoaded(options);resolve()}},5000)})},onStylesLoaded:function(options){options = options ||{};document.body.classList.add('chatooly-styles-loaded');document.body.classList.add(`chatooly-v${this.version.replace(/\./g,'-')}`);if(options.layout){this.applyLayout(options.layout)}else if(window.ChatoolyConfig && window.ChatoolyConfig.layout){this.applyLayout(window.ChatoolyConfig.layout)}if(options.theme){this.applyTheme(options.theme)}else if(window.ChatoolyConfig && window.ChatoolyConfig.theme){this.applyTheme(window.ChatoolyConfig.theme)}const event = new CustomEvent('chatooly:styles-loaded',{detail:{version:this.version,options:options,timestamp:Date.now()}});document.dispatchEvent(event)},applyLayout:function(layout){const validLayouts = ['sidebar','tabs','modal','split','custom'];if(validLayouts.includes(layout)){document.body.classList.add(`chatooly-layout-${layout}`);console.log(`Chatooly:Applied ${layout}layout`);return true}else{console.warn(`Chatooly:Invalid layout "${layout}". Valid layouts:`,validLayouts);return false}},applyTheme:function(theme){const validThemes = ['light','dark','auto'];if(validThemes.includes(theme)){document.body.dataset.theme = theme;document.body.classList.add(`chatooly-theme-${theme}`);console.log(`Chatooly:Applied ${theme}theme`);return true}else{console.warn(`Chatooly:Invalid theme "${theme}". Valid themes:`,validThemes);return false}},isLoaded:function(){return document.getElementById('chatooly-unified-styles')!== null || document.body.classList.contains('chatooly-styles-loaded')},reload:function(){console.log('Chatooly:Reloading styles...');const existingStyles = document.querySelectorAll('#chatooly-unified-styles');existingStyles.forEach(style => style.remove());document.body.classList.remove('chatooly-styles-loaded');document.body.className = document.body.className.replace(/chatooly-v\d+-\d+-\d+/g,'');return this.inject()},getVariable:function(variableName){if(!variableName.startsWith('--')){variableName = '--chatooly-' + variableName}const computed = getComputedStyle(document.documentElement);return computed.getPropertyValue(variableName).trim()},setVariable:function(variableName,value){if(!variableName.startsWith('--')){variableName = '--chatooly-' + variableName}document.documentElement.style.setProperty(variableName,value);console.log(`Chatooly:Set ${variableName}= ${value}`)},enableDevMode:function(){console.log('Chatooly:Development mode enabled');document.body.classList.add('chatooly-dev-mode');document.addEventListener('keydown',(e)=>{if(e.ctrlKey && e.shiftKey && e.key === 'R'){e.preventDefault();this.reload()}});this.logAvailableVariables()},logAvailableVariables:function(){const style = getComputedStyle(document.documentElement);const variables = [];for(let i = 0;i < style.length;i++){const property = style[i];if(property.startsWith('--chatooly-')){variables.push({name:property,value:style.getPropertyValue(property).trim()})}}if(variables.length > 0){console.group('Chatooly:Available CSS Variables');variables.forEach(variable =>{console.log(`${variable.name}:${variable.value}`)});console.groupEnd()}}};if(!window.ChatoolyAutoInjected){window.ChatoolyAutoInjected = true;if(document.readyState === 'loading'){document.addEventListener('DOMContentLoaded',function(){Chatooly.styleInjection.inject();if(Chatooly.styleInjection.isDevelopment()){Chatooly.styleInjection.enableDevMode()}})}else{Chatooly.styleInjection.inject();if(Chatooly.styleInjection.isDevelopment()){Chatooly.styleInjection.enableDevMode()}}}})();